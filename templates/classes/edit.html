{% extends "base.html" %}
{% block title %}Manage {{ class[1] }} {% if not "class" in class[1]|lower %}Class{% endif %} | TeamUp{% endblock title %}
{% block content %}
<div class="wrapper">
    <h1 class="page-header">Edit {{class.name}} {% if not "class" in class[1]|lower %}Class{% endif %}</h1>
    <a 
        href="/classes/{{class.id}}/delete" 
        hx-delete="/classes/{{class.id}}" 
        hx-swap="none"
        hx-confirm="Are you sure you want to delete this class? There is no going back.">
        Delete
    </a>
    <section>
        <h2 class="section-header">Class info</h2>
        <form 
            hx-put="/classes/{{request.path_params.get('class_id')}}"
            hx-target="body"
            >
            <label for="name">
                Name
                <input type="text" id="name" name="name" value="{{class.name}}" autofocus/>
            </label>
            <button type="submit">Save</button>
        </form>
    </section>
    <section>
        <h2 class="section-header">Students</h2>
        <a href="/classes/{{class.id}}/students">Add</a>
        {% if students %}
        <ul class="student-list">
            {% for student in students  %}
                <li id="{{student.id}}">
                    {% include "classes/_student.html" %}
                </li>
            {% endfor %}
        </ul>
        {% else %}
        <p>You don't have any students registered yet.</p>
        {% endif %}
    </section>
</div>
{% endblock content %}